<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Key Detection</title>
    <script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
  </head>

  <body>
    <script>
      const secretCode = 'tatsu'

      let key
      let keyNum = 0
      //const sequences = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a', 'Enter']
      const sequences = secretCode.split('')
      const sequence = (event) => {
        const regex = new RegExp(sequences[keyNum], 'gi')
        if (event.key.match(regex)) {
          keyNum++
          console.log(keyNum)
          if (keyNum === sequences.length) {
            alert('Yayyyyyyyyyyyyyyy')
            keyNum = 0
          }
        } else {
          keyNum = 0
        }
      }
      window.addEventListener('keyup', sequence)

//      const pressed = []
//      window.addEventListener('keyup', (e) => {
//        console.log(e.key)
//        pressed.push(e.key)
//        pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length)
//        if (pressed.join('').includes(secretCode)) {
//          cornify_add();
//        }
//      })
    </script>
  </body>

</html>